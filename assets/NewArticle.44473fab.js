import{a as u}from"./index.28860e90.js";import{_ as m,c as a,a as t,G as p,w as i,I as d,J as _,F as g,s as f,e as c,t as h,p as y,f as b}from"./index.eeedf0e7.js";const v={name:"NewArticle",data(){return{categoryList:{},article:{title:"",category:"",body:""}}},created(){u.post("/api/user/category").then(e=>{console.log(e),this.categoryList=e.data.category,console.log(this.categoryList)})},methods:{articlePost(){u.post("http://127.0.0.1:5000/user/post/new",this.article).then(e=>{console.log(e),console.log(e.data.status),e.data.status==="failed"?alert(""):(alert("\u6587\u7AE0\u53D1\u5E03\u6210\u529F\uFF01"),this.$router.push({path:"/post/show"}))})}}};const l=e=>(y("data-v-ca70512c"),e=e(),b(),e),w={class:"container mt-5 pt-5"},x=l(()=>t("div",{class:"row page-header justify-content-center align-items-center"},[t("h1",null,"\u5199\u6587\u7AE0")],-1)),A={class:"mb-3"},B={class:"form-group required"},S=l(()=>t("label",{class:"form-control-label",for:"title"},"\u6807\u9898",-1)),E={class:"form-group"},F=l(()=>t("label",{class:"form-control-label",for:"category"},"\u5206\u7C7B",-1)),I={name:"category"},L={class:"form-group required"},D=l(()=>t("label",{class:"form-control-label",for:"title"},"\u5185\u5BB9",-1)),N=l(()=>t("input",{class:"btn btn-light btn-md",id:"submit",name:"submit",type:"submit",value:"\u63D0\u4EA4"},null,-1));function V(e,s,q,M,r,n){return c(),a("main",w,[x,t("div",A,[t("form",{method:"post",class:"form",role:"form",onSubmit:s[3]||(s[3]=p((...o)=>n.articlePost&&n.articlePost(...o),["prevent"]))},[t("div",B,[S,i(t("input",{"onUpdate:modelValue":s[0]||(s[0]=o=>r.article.title=o),class:"form-control",id:"title",maxlength:"60",minlength:"1",name:"title",required:"true",type:"text"},null,512),[[d,r.article.title]])]),t("div",E,[F,i(t("select",{"onUpdate:modelValue":s[1]||(s[1]=o=>r.article.category=o),class:"form-control",id:"category",name:"category"},[(c(!0),a(g,null,f(r.categoryList,o=>(c(),a("option",I,h(o),1))),256))],512),[[_,r.article.category]])]),t("div",L,[D,i(t("textarea",{"onUpdate:modelValue":s[2]||(s[2]=o=>r.article.body=o),class:"form-control",rows:"18"},`\r
          `,512),[[d,r.article.body]])]),N],32)])])}const k=m(v,[["render",V],["__scopeId","data-v-ca70512c"]]);export{k as default};
